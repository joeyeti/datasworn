_id: sundered_isles
datasworn_version: '0.1.0'
type: expansion
ruleset: starforged
<<: &Source
  date: 2024-07-01
  title: Sundered Isles
  url: https://ironswornrpg.com
  license: https://creativecommons.org/licenses/by-nc-sa/4.0
  authors:
    - name: Shawn Tomkin
assets:
  path:
    name: Path Assets
    type: asset_collection
    color: &PathAsset.color '#3f7faa'
    enhances:
      - asset_collection:starforged/path
    _source:
      <<: *Source
    contents:
      cannoneer:
        name: Cannoneer
        type: asset
        _source:
          <<: *Source
        <<: &PathAsset
          color: *PathAsset.color
          category: Path
        abilities:
          - enabled: true
            text: |-
              When you [Strike](datasworn:move:starforged/combat/strike) using a vehicle’s weapons, and hold your fire for maximum effect, decide the amount of momentum you risk (1, 2, or 3) and add +that amount. On a strong hit, mark progress. On a weak hit or miss, [Lose Momentum](datasworn:move:starforged/suffer/lose_momentum) equal to 1 + the amount risked (in addition to any other cost).
            enhance_moves:
              - enhances:
                  - move:starforged/combat/strike
                roll_type: action_roll
                trigger:
                  conditions:
                    - text:
                        When you [Strike](datasworn:move:starforged/combat/strike) using a vehicle’s
                        weapons, and hold your fire for maximum effect
          - text: |-
              When you make a move by firing or directing the fire of a vehicle’s weapons, and burn momentum to improve your result, roll your action die. On a 5 or 6, do not reset momentum. Otherwise, take +1 momentum after you reset.
            # TODO: momentum trigger?
          - text: |-
              When you [Secure an Advantage](datasworn:move:starforged/adventure/secure_an_advantage) or [Gain Ground](datasworn:move:starforged/combat/gain_ground) by preparing or loading special ammunition for a vehicle’s weapons, roll +supply. On a hit, take +1 momentum. Then, when you first make a move to fire this ammunition, reroll any dice.
            enhance_moves:
              - enhances:
                  - move:starforged/*/secure_an_advantage
                  - move:starforged/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by preparing or loading special ammunition for a vehicle’s weapons
                      roll_options:
                        - using: condition_meter
                          condition_meter: supply
                        - using: asset_control
                          control: supply
      construct:
        name: Construct
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
          _core:
            technological: true
        abilities:
          - enabled: true
            text: |-
               You are a machine, and do not eat, drink, or breathe. You [Endure Harm](datasworn:move:starforged/suffer/endure_harm) as normal, but restore health only when you [Repair](datasworn:move:sundered_isles/recover/repair) (spend 1 repair point to take +1 health, and 2 points to clear the wounded impact).
            # TODO: enhance player? alter the moves used to recover health
          - text: |-
              When you make a move to build, repair, or study another mechanical device, or question or convince a mechanical being, you may roll +spirit. On a match, you gain understanding or affinity; mark 1 tick on your bonds legacy track.
            enhance_moves:
              - roll_type: action_roll
                enhances: null
                trigger:
                  conditions:
                    - text: When you make a move to build, repair, or study another mechanical device, or question or convince a mechanical being
                      roll_options:
                        - using: condition_meter
                          condition_meter: spirit
          - text: |-
               Gain one path asset (not [Augmented](datasworn:asset:starforged/path/augmented)) at no extra cost to represent a mechanical fitting or modification. Spend 1 experience to upgrade this asset, or 1 experience to swap for another path asset with an equal number of upgrades. You may suffer the cost of a move by marking the installed asset as broken, and spend 2 repair points to restore its function.
            enhance_asset:
              attachments:
                assets:
                  - asset:*/path/*
                max: 1
      crew_commander:
        name: Crew Commander
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
        abilities:
          - enabled: true
            text: |-
              You have 2 command; your max is 4. When you or an ally make a move leading or aided by the crew, you may (after rolling) suffer -1 command to improve a miss to a weak hit, or a weak hit to a strong hit. When you [Pay the Price](datasworn:move:starforged/fate/pay_the_price), you may suffer the cost as -1 command. While at 0 command, this asset counts as an impact. To bolster your crew, provide a notable reward or respite, and roll +heart. On a strong hit, take +4 command. On a weak hit, take +2. On a miss, take +2 but envision a threat to your crew or leadership.
            moves:
              bolster_your_crew:
                name: Bolster Your Crew
                type: move
                roll_type: action_roll
                trigger:
                  text: When you bolster your crew by providing a notable reward or respite...
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: heart
                text: To bolster your crew, provide a notable reward or respite, and roll +heart. On a strong hit, take +4 command. On a weak hit, take +2. On a miss, take +2 but envision a threat to your crew or leadership.
                outcomes:
                  strong_hit:
                    text: On a __strong hit__, take +4 command.
                  weak_hit:
                    text: On a __weak hit__, take +2 command.
                  miss:
                    text: On a __miss__, take +2 command but envision a threat to your crew or leadership.
          - text: |-
              Take +2 command; your max is now 6.
            enhance_asset:
              controls:
                command:
                  field_type: condition_meter
                  max: 6
          - text: |-
              When your command is 0 and the situation desperate, you may [Compel](datasworn:move:starforged/adventure/compel) your crew to action; if you do, take +2 command on a hit.
            enhance_moves:
              - enhances:
                  - move:starforged/adventure/compel
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When your command is 0 and the situation desperate
        controls:
          command:
            label: command
            field_type: condition_meter
            max: 4
            value: 2
            controls:
              commandless:
                is_impact: true
                label: commandless
                field_type: checkbox
      cutthroat:
        name: Cutthroat
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
        requirement: If you wield knives...
        abilities:
          - enabled: true
            text: |-
              When you [Strike](datasworn:move:starforged/combat/strike), add +1. When you make a move using a knife not as a weapon to attack or threaten, but as a tool to cut an object, gain leverage, or grab hold, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/strike
                roll_type: action_roll
              - enhances: null
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move using a knife not as a weapon to attack or threaten, but as a tool to cut an object, gain leverage, or grab hold
          - text: |-
              Once per situation, when you make a move to ambush an unaware foe, or perform a feint or misdirection to draw someone off their guard, reroll any dice. If in a fight, mark progress on a hit. When you hold an ambushed foe at knifepoint and make a move aided by the prospect of violence, add +1.
            enhance_moves:
              - enhances: null
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: Once per situation, when you make a move to ambush an unaware foe, or perform a feint or misdirection to draw someone off their guard
          - text: |-
              When you [Take Decisive Action](datasworn:move:starforged/combat/take_decisive_action) without mercy or restraint, you may reroll one challenge die. If you do, [Endure Stress](datasworn:move:starforged/suffer/endure_stress) (-2). If you then choose to resist the stress, roll +iron instead of +spirit or +heart.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/take_decisive_action
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: When you [Take Decisive
                        Action](datasworn:move:starforged/combat/take_decisive_action)
                        without mercy or restraint
              - enhances:
                  - move:starforged/suffer/endure_stress
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: After you [Take Decisive
                        Action](datasworn:move:starforged/combat/take_decisive_action)
                        without mercy or restraint (and choosing to reroll one challenge die), and you choose to resist the stress
                      roll_options:
                        - using: stat
                          stat: iron
      duelist:
        name: Duelist
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
        abilities:
          - enabled: true
            text: |-
              When you [Enter the Fray](datasworn:move:starforged/combat/enter_the_fray) or [Battle](datasworn:move:starforged/combat/battle) against a single worthy foe, reroll any challenge dice. If you set a new objective in a fight by challenging a worthy foe, take +2 momentum.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/enter_the_fray
                  - move:starforged/combat/battle
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: against a single worthy foe
          - text: |-
              When you [Gain Ground](datasworn:move:starforged/combat/gain_ground) in personal combat using superficial attacks to probe your opponent’s defenses, or by drawing them off guard with verbal repartee, take +1 momentum on a hit. On a strong hit, also add +1 if you immediately [Strike](datasworn:move:starforged/combat/strike).
            enhance_moves:
              - enhances:
                  - move:starforged/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: in personal combat using superficial attacks to probe your opponent’s defenses, or by drawing them off guard with verbal repartee
          - text: |-
              When you roll a miss with a match in a situation where your reputation is known, you may suffer the cost by envisioning a notable rival who challenges you to a duel. If you defeat them, mark 2 ticks on your quests legacy track. If you decline, mark 1 tick on your bonds legacy track but envision the fallout of this refusal.
      harpooner:
        name: Harpooner
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        requirement: If you wield a handheld harpoon...
        abilities:
          - enabled: true
            text: |-
               When you make a move to throw or stab your harpoon at a large target, add +1 and take +1 momentum on a hit. When you make a move to attack person-sized foes, the harpoon is a powerful but ungainly weapon; add +2, but suffer -1 momentum on a weak hit or miss (in addition to any other cost).
            enhance_moves:
              - roll_type: action_roll
                enhances: null
                trigger:
                  conditions:
                    - text: When you make a move to throw or stab your harpoon at a large target
              - roll_type: action_roll
                enhances: null
                trigger:
                  conditions:
                    - text: When you make a move to attack person-sized foes
          - text: |-
              When you [Strike](datasworn:move:starforged/combat/strike) a large foe in close quarters, you may drive your harpoon home. If you do, mark progress on a hit. If the fight continues, and you choose to pull the harpoon free, you must [Gain Ground](datasworn:move:starforged/combat/gain_ground) (+iron), score a hit, and forgo one of the choices awarded by that move.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/strike
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: a large foe in close quarters
              - enhances:
                  - move:starforged/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: to pull your harpoon free (after you drive your harpoon home against a large foe in close quarters)
                      roll_options:
                        - using: stat
                          stat: iron
          - text: |-
              When you [Resupply](datasworn:move:starforged/recover/resupply) by hunting large game, add +1 and take +1 supply on a hit. On a miss with a match, there’s always a bigger fish; you draw the attention of a notable threat.
            enhance_moves:
              - enhances:
                  - move:starforged/recover/resupply
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by hunting large game
      jinx:
        name: Jinx
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
          _core:
            supernatural: true
        abilities:
          - enabled: true
            text: |-
              You are cursed by ill luck, but persisting offers its own rewards. If you score a miss with a match, this asset counts as an impact for you and your allies. You may undo this only by scoring a strong hit with a match; if you do, you and your allies each clear the impact and mark 1 tick on your bonds legacy track.
          - text: |-
              When you score a weak hit on a progress move, you may test your luck by reducing the progress score by 1 and rerolling all dice.
          - text: |-
              When you roll matched 1’s on your challenge dice while suffering from this asset’s impact, you may activate this ability at no cost. If you do, you are favored by fortune; you and your allies clear the impact and mark 1 box on your bonds legacy track. Then, discard this asset and increase your momentum reset and max momentum (if less than 10) by 1.
        controls:
          jinxed:
            label: jinxed
            field_type: checkbox
            is_impact: true
      musician:
        name: Musician
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        abilities:
          - enabled: true
            text: |-
              When you [Hearten](datasworn:move:starforged/recover/hearten), [Secure an Advantage](datasworn:move:starforged/adventure/secure_an_advantage), or [Gain Ground](datasworn:move:starforged/combat/gain_ground) by encouraging yourself or others with a musical performance, add +1. On a strong hit with a match, also mark 1 tick on your bonds legacy track.
            enhance_moves:
              - enhances:
                  - move:starforged/recover/hearten
                  - move:starforged/*/secure_an_advantage
                  - move:starforged/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by encouraging yourself or others with a musical performance
          - text: |-
              When you score a hit as you [Sojourn](datasworn:move:starforged/recover/sojourn) during your first visit to a community, and [Hearten](datasworn:move:starforged/recover/hearten) by honoring them with a song, you may take an extra recovery move.
            enhance_moves:
              - enhances:
                  - move:starforged/recover/hearten
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you score a hit as you [Sojourn](datasworn:move:starforged/recover/sojourn) during your first visit to a community, and [Hearten](datasworn:move:starforged/recover/hearten) by honoring them with a song
          - text: &MemorializeText |-
              When you suffer or encounter a tragic loss and perform a song to memorialize the dead, roll +heart. On a strong hit, take both. On a weak hit, choose one. On a miss, the performance leaves you or others troubled; [Pay the Price](datasworn:move:starforged/fate/pay_the_price).

                * Honor the lost: mark 2 ticks on your bonds legacy track.
                * Offer comfort or inspiration: you and your allies take +2 spirit or +2 momentum.
            moves:
              memorialize_in_song:
                type: move
                name: Memorialize in Song
                roll_type: action_roll
                trigger:
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: heart
                  text: When you suffer or encounter a tragic loss and perform a song to memorialize the dead...
                text: *MemorializeText
                outcomes:
                  strong_hit:
                    text: |-
                      On a __strong hit__, take both.

                        * Honor the lost: mark 2 ticks on your bonds legacy track.
                        * Offer comfort or inspiration: you and your allies take +2 spirit or +2 momentum.
                  weak_hit:
                    text: |-
                      On a __weak hit__, choose one.

                        * Honor the lost: mark 2 ticks on your bonds legacy track.
                        * Offer comfort or inspiration: you and your allies take +2 spirit or +2 momentum.
                  miss:
                    text: |-
                      On a __miss__, the performance leaves you or others troubled; [Pay the Price](datasworn:move:starforged/fate/pay_the_price).
      musketeer:
        name: Musketeer
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        abilities:
          - enabled: true
            text: |-
              When you make a move to shoot at a specific target from a distance, but score a miss, you set your sights on your quarry. The next time you make a move to shoot at the same target, add +2.
            enhance_moves:
              - roll_type: action_roll
                enhances: null
                trigger:
                  conditions:
                    - text: When you make a move to shoot at a specific target from a distance
          - text: |-
              When you [Clash](datasworn:move:starforged/combat/clash), you may attempt to turn the tide of the fight with a difficult but bold shot. If you do, roll an extra challenge die and keep the two highest. A weak hit then counts as a strong hit. On a strong hit with a match, mark progress.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/clash
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you [Clash](datasworn:move:starforged/combat/clash), and attempt to turn the tide of the fight with a difficult but bold shot
          - text: |-
              When you [Gain Ground](datasworn:move:starforged/combat/gain_ground) by charging into close quarters with a fixed bayonet, or if you [React Under Fire](datasworn:move:starforged/combat/react_under_fire) by holding foes at bay or parrying close quarter attacks with your rifle, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by charging into close quarters with a fixed bayonet
              - enhances:
                  - move:starforged/combat/react_under_fire
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by holding foes at bay or parrying close quarter attacks with your rifle
      necromancer:
        name: Necromancer
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
          _core:
            supernatural: true
        abilities:
          - enabled: true
            text: |-
              While in the presence of the remains of an intelligent being, you may [Gather Information](datasworn:move:starforged/adventure/gather_information) by summoning their spirit to answer your questions. If you do, roll +heart and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - move:starforged/adventure/gather_information
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by summoning the spirit of an intelligent being to answer your questions (while in the presence of their remains)
                      roll_options:
                        - using: stat
                          stat: heart
          - text: |-
              When you [Face Death](datasworn:move:starforged/threshold/face_death), or if you [Aid Your Ally](datasworn:move:starforged/adventure/aid_your_ally) by serving as their guide as they face death, mark 2 ticks on your bonds legacy track.
            enhance_moves:
              - enhances:
                  - move:starforged/threshold/face_death
                roll_type: action_roll
              - enhances:
                  - move:starforged/adventure/aid_your_ally
                roll_type: no_roll
          - text: |-
              You may [Face Danger](datasworn:move:starforged/adventure/face_danger) (+heart) to animate a corpse with soulless life. On a hit, it is under your control. When it aids you through force, threat, or fear as you make a move, add +2 and fill one segment of a 4-segment clock. You may also suffer the cost of a move by filling a segment. When the clock is full, the corpse crumbles to ash. You may control only a single corpse at a time.
            enhance_moves:
              - enhances:
                  - move:starforged/*/face_danger
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: to animate a corpse with soulless life
                      roll_options:
                        - using: stat
                          stat: heart
              - enhances: null
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When the animated corpse aids you through force, threat, or fear as you make a move
      overlander:
        name: Overlander
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
        abilities:
          - enabled: true
            text: |-
              When you [Undertake an Expedition](datasworn:move:starforged/exploration/undertake_an_expedition) through uncharted or unfamiliar overland territory, you may reroll one challenge die.
            enhance_moves:
              - enhances:
                  - move:starforged/exploration/undertake_an_expedition
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: through uncharted or unfamiliar overland territory
          - text: &ShelterText |-
              When you find or make shelter in the wilds, roll +wits. On a strong hit, you and your allies envision how you pass the time and each take +2 spirit or +2 health, or +1 to each. In addition, any companions in your company take +1 health. On a weak hit, the comfort is fleeting; you and your allies take +1 health or +1 spirit. On a miss, you encounter hardship or a new danger; [Pay the Price](datasworn:move:starforged/fate/pay_the_price).
            moves:
              shelter:
                type: move
                name: Shelter
                roll_type: action_roll
                trigger:
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: wits
                  text: When you find or make shelter in the wilds...
                text: *ShelterText
                outcomes:
                  strong_hit:
                    text: On a __strong hit__, you and your allies envision how you pass the time and each take +2 spirit or +2 health, or +1 to each. In addition, any companions in your company take +1 health.
                  weak_hit:
                    text: On a __weak hit__, the comfort is fleeting; you and your allies take +1 health or +1 spirit.
                  miss:
                    text: On a __miss__, you encounter hardship or a new danger; [Pay the Price](datasworn:move:starforged/fate/pay_the_price).
          - text: |-
              When you [Resupply](datasworn:move:starforged/recover/resupply) by searching out a source of food, water, or other natural resources in the wilds, add +1. On a strong hit with a match, you encounter an unusual or extraordinary location; you may [Explore a Waypoint](datasworn:move:starforged/exploration/explore_a_waypoint) (even if not on an expedition) and reroll any dice.
            enhance_moves:
              - enhances:
                  - move:starforged/recover/resupply
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by searching out a source of food, water, or other natural resources in the wilds
            # TODO: another move sequence. devise a schema for this??
      peddler:
        name: Peddler
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        abilities:
          - enabled: true
            text: &PeddleGoods |-
              Once per visit, when you offload valuable goods in a community, roll +wits. On a strong hit, choose two. On a weak hit, choose one. On a miss, you make a bad deal; [Pay the Price](datasworn:move:starforged/fate/pay_the_price).

                * Trade for services: Make one recovery move (not Sojourn) with an automatic strong hit
                * Trade for clout or solidarity: Mark 1 tick on your bonds legacy track
                * Trade for goods or coin: Mark 1 tick on your quests legacy track
            moves:
              peddle_your_wares:
                type: move
                name: Peddle Your Wares
                roll_type: action_roll
                trigger:
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: wits
                  text: Once per visit, when you offload valuable goods in a community...
                text: *PeddleGoods
                outcomes:
                  strong_hit:
                    text: |-
                      On a __strong hit__, choose two.

                        * Trade for services: Make one recovery move (not Sojourn) with an automatic strong hit
                        * Trade for clout or solidarity: Mark 1 tick on your bonds legacy track
                        * Trade for goods or coin: Mark 1 tick on your quests legacy track
                  weak_hit:
                    text: |-
                      On a __weak hit__, choose one.

                        * Trade for services: Make one recovery move (not Sojourn) with an automatic strong hit
                        * Trade for clout or solidarity: Mark 1 tick on your bonds legacy track
                        * Trade for goods or coin: Mark 1 tick on your quests legacy track
                  miss:
                    text: |-
                      On a __miss__, you make a bad deal; [Pay the Price](datasworn:move:starforged/fate/pay_the_price).
          - text: |-
              As above, and on a match, you uncover a chance to obtain a unique (if a strong hit) or problematic (if a miss) resource or item. Envision the opportunity. If you secure it, mark 2 ticks on your quests legacy track.
            enhance_moves:
              - roll_type: action_roll
                enhances:
                  - asset.ability.move:sundered_isles/path/peddler.0.peddle_your_wares
          - text: |-
              When you [Develop Your Relationship](datasworn:move:starforged/connection/develop_your_relationship) with a connection through a mutually beneficial trade, mark progress twice on the relationship.
            enhance_moves:
              - enhances:
                  - move:starforged/connection/develop_your_relationship
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: with a connection through a mutually beneficial trade
      pirate_captain:
        name: Pirate Captain
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
        abilities:
          - enabled: true
            text: &SeizeYourPrize |-
              When you seize a notable ship or treasure, roll +wits. On a strong hit, take both, or choose one twice. On a weak hit, choose one. On a miss, choose one, but this prize also brings an unexpected danger; [Pay the Price](datasworn:move:starforged/fate/pay_the_price).

                * Build your fortune: Mark 1 tick on your quests legacy track.
                * Share the spoils: Mark 1 tick on your bonds legacy track.
            moves:
              seize_your_prize:
                 type: move
                 name: Seize Your Prize
                 roll_type: action_roll
                 trigger:
                   conditions:
                    - method: player_choice
                      roll_options:
                         - using: stat
                           stat: wits
                   text: When you seize a notable ship or treasure...
                 text: *SeizeYourPrize
                 outcomes:
                   strong_hit:
                     text: |-
                      On a __strong hit__, take both, or choose one twice.

                        * Build your fortune: Mark 1 tick on your quests legacy track.
                        * Share the spoils: Mark 1 tick on your bonds legacy track.
                   weak_hit:
                     text: |-
                      On a __weak hit__, choose one.

                        * Build your fortune: Mark 1 tick on your quests legacy track.
                        * Share the spoils: Mark 1 tick on your bonds legacy track.
                   miss:
                     text: |-
                      On a __miss__, choose one, but this prize also brings an unexpected danger; [Pay the Price](datasworn:move:starforged/fate/pay_the_price).

                        * Build your fortune: Mark 1 tick on your quests legacy track.
                        * Share the spoils: Mark 1 tick on your bonds legacy track.
          - text: |-
              When you [Set a Course](datasworn:move:starforged/exploration/set_a_course) for familiar hunting grounds or to intercept a specific target, you may reroll your action die if its value is less than your ship’s integrity. When you [Face Danger](datasworn:move:starforged/adventure/face_danger) by sailing an area in search of prey, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - move:starforged/exploration/set_a_course
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: for familiar hunting grounds or to intercept a specific target
              - enhances:
                  - move:starforged/*/face_danger
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by sailing an area in search of prey
          - text: |-
              You may spend 1 experience to [Sojourn](datasworn:move:starforged/recover/sojourn) with an automatic strong hit. If you do, you and your allies take one extra recovery move.
            enhance_moves:
              - enhances:
                  - move:starforged/recover/sojourn
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: you choose to spend 1 experience
                      method: strong_hit
      pistoleer:
        name: Pistoleer
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        requirement: If you wield a brace of pistols...
        abilities:
          - enabled: true
            text: |-
              When you [Enter the Fray](datasworn:move:starforged/combat/enter_the_fray) with pistols in hand, or [Battle](datasworn:move:starforged/combat/battle) by unleashing a whirlwind of gunfire, add +1. On a hit, take +2 momentum.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: with pistols in hand
              - enhances:
                  - move:starforged/combat/battle
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by unleashing a whirlwind of gunfire
          - text: |-
              When you [Strike](datasworn:move:starforged/combat/strike) or [Clash](datasworn:move:starforged/combat/clash) with a flurry of shots, you may roll your action die up to three times (or roll three action dice at once), keeping the highest. On a strong hit, mark progress. On a weak hit or miss, after resolving the outcome of the attack, immediately [Check Your Gear](datasworn:move:starforged/adventure/check_your_gear) to see if you have more pistols and ammo at the ready. If not, this asset is unusable for the remainder of the fight.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/strike
                  - move:starforged/combat/clash
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: with a flurry of shots
          - text: |-
              When you participate in a charged or antagonistic parlay with your pistols on display, take +2 momentum at the start of the interaction.
      scattershot:
        name: Scattershot
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        abilities:
          - enabled: true
            text: |-
              Your scattergun is loaded with a single shot, which you may use to [Strike](datasworn:move:starforged/combat/strike) or [Clash](datasworn:move:starforged/combat/clash) against a large target, a group of massed foes, or a close quarters enemy. When you do, reroll any dice. To use the scattergun more than once in the same fight, you must first score a hit as you [Gain Ground](datasworn:move:starforged/combat/gain_ground) (+edge), forgoing one of the choices awarded by that move to instead reload and ready your next shot.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/strike
                  - move:starforged/combat/clash
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you use the single shot loaded in your scattergun against a large target, a group of massed foes, or a close quarters enemy
              - enhances:
                  - move:starforged/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: to reload and ready your scattergun's next shot
                      roll_options:
                        - using: stat
                          stat: edge
          - text: |-
              When you make a move by firing your scattergun to damage or destroy an inanimate object, or to create a distraction, add +1 and take +1 momentum on a hit.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move by firing your scattergun to damage or destroy an inanimate object, or to create a distraction
          - text: |-
              When you [Take Decisive Action](datasworn:move:starforged/combat/take_decisive_action) with a devastating shot or by demanding surrender at the point of a readied scattergun, you may reroll one challenge die.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/take_decisive_action
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text:
                        with a devastating shot or by demanding surrender at the point
                        of a readied scattergun
      scholar:
        name: Scholar
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        options:
          field_1:
            label: field
            field_type: text
          field_2:
            label: field
            field_type: text
        abilities:
          - enabled: true
            text: |-
              Choose a field of study to represent your scholarly expertise. When you [Gather Information](datasworn:move:starforged/adventure/gather_information) by conducting extended research within your field of study, or when you [Hearten](datasworn:move:starforged/recover/hearten) through the comfort of dedicated learning, add +1 and take +1 momentum on a hit. On a match, you piece together an enlightening or harrowing theory; envision the nature of this revelation and mark 1 tick on your discoveries legacy track.
            enhance_moves:
              - enhances:
                  - move:starforged/adventure/gather_information
                  - move:starforged/recover/hearten
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by conducting extended research within your field of study
              - enhances:
                  - move:starforged/recover/hearten
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: through the comfort of dedicated learning
          - text: |-
              When you [Secure an Advantage](datasworn:move:starforged/adventure/secure_an_advantage) or [Gain Ground](datasworn:move:starforged/combat/gain_ground) through cursory observation of a situation that falls within your field of study, or when you [Compel](datasworn:move:starforged/adventure/compel) using your expertise to speak truth or logic, add +1.
            enhance_moves:
              - enhances:
                  - move:starforged/*/secure_an_advantage
                  - move:starforged/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: through cursory observation of a situation that falls within your field of study
              - enhances:
                  - move:starforged/adventure/compel
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: using your expertise to speak truth or logic
          - text: |-
              You apply yourself to another discipline. Choose a second field of study.
      shapechanger:
        name: Shapechanger
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
          _core:
            supernatural: true
        options:
          form:
            label: form
            field_type: text
          trigger:
            label: trigger
            field_type: text
        abilities:
          - enabled: true
            text: |-
              You have an alternate form and a trigger that sparks the transformation. If you encounter or activate the trigger, [Face Danger](datasworn:move:starforged/adventure/face_danger) (roll +health) to hasten, endure, or resist the transformation. When you make a move in your alternate form, roll an extra action die. If the move is true to your alternate form’s nature, keep the highest as your action die value. If it is contrary, keep the lowest. To willingly return to your normal form, [Lose Momentum](datasworn:move:starforged/suffer/lose_momentum) (-2).
            # TODO: should there be a control for this? could the "enhances" trigger be tied to that somehow?
            enhance_moves:
              - enhances:
                  - move:starforged/*/face_danger
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: to hasten, endure, or resist the transformation (after encountering or activating its trigger)
                      roll_options:
                        - using: condition_meter
                          condition_meter: health
              - enhances: null
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move in your alternate form
              - enhances:
                  - move:starforged/suffer/lose_momentum
                roll_type: no_roll
                trigger:
                  conditions:
                    - text: To willingly return to your normal form
          - text: |-
              As above, and when you score a hit with matching values on both action dice, your identities are in harmony; take +1 momentum.
            # TODO: alter the previous ability?
          - text: |-
              Choose your normal or alternate form as your ideal self. When you change to that form, you are partially restored and may take +1 health or +1 spirit.
            # TODO: control? alter 1st ability? control has some on-toggle effect?
      shipwright:
        name: Shipwright
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        abilities:
          - enabled: true
            text: |-
              When you personally [Repair](datasworn:move:starforged/recover/repair) a vehicle, or direct those repairs, take 1 extra repair point or +1 momentum on a hit.
            enhance_moves:
              - enhances:
                  - move:starforged/recover/repair
                roll_type: action_roll
                trigger:
                  conditions:
                    - text:
                        When you personally [Repair](datasworn:move:starforged/recover/repair) a
                        vehicle, or direct those repairs
          - text: |-
              You may [Enter the Fray](datasworn:move:starforged/combat/enter_the_fray) (+wits) by studying the construction or configuration of an enemy vessel. On a strong hit, you spot a vulnerability or a means of overcoming its advantages; envision what you learn, and take +2 momentum. Then, one time only, you or an ally may reroll any dice when using this insight to make a move.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by studying the construction or configuration of an enemy vessel
                      roll_options:
                        - using: stat
                          stat: wits
          - text: |-
              When you [Resupply](datasworn:move:starforged/recover/resupply) by repurposing parts or materials from a ship or wreck, reroll any challenge dice. On a strong hit with a match, you may reclaim a capability of that ship. If you do, take a free module or support vehicle asset, or gain one free upgrade to an existing module or vehicle.
            enhance_moves:
              - enhances:
                  - move:starforged/recover/resupply
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by repurposing parts or materials from a ship or wreck
      socialite:
        name: Socialite
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
        abilities:
          - enabled: true
            text: |-
              When you make a move using charm, flattery, or seduction, or by navigating elite social circles, add +1.
            enhance_moves:
              - enhances: null
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move using charm, flattery, or seduction, or by navigating elite social circles
          - text: &GrandEntrance |-
              When you first make an appearance at a social event, you may attempt a grand or memorable entrance. If you do, roll +heart. On a strong hit, mark 1 tick on your bonds legacy track and take +3 momentum. On a weak hit, take +2 momentum. On a miss, choose one and [Endure Stress](datasworn:move:starforged/suffer/endure_stress) (-2).

                * You spot an unwelcome rival, authority, or former beau.
                * You commit an embarrassing faux pas.
                * You are upstaged by another’s entrance.
            moves:
              make_a_grand_entrance:
                type: move
                name: Make a Grand Entrance
                roll_type: action_roll
                trigger:
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: heart
                  text: When you first make an appearance at a social event, and attempt a grand or memorable entrance...
                text: *GrandEntrance
                outcomes:
                  strong_hit:
                    text: On a __strong hit__, mark 1 tick on your bonds legacy track and take +3 momentum.
                  weak_hit:
                    text: On a __weak hit__, take +2 momentum.
                  miss:
                    text: |-
                      On a __miss__, choose one and [Endure Stress](datasworn:move:starforged/suffer/endure_stress) (-2).

                        * You spot an unwelcome rival, authority, or former beau.
                        * You commit an embarrassing faux pas.
                        * You are upstaged by another’s entrance.
          - text: |-
              When you [Hearten](datasworn:move:starforged/recover/hearten) while attending an exclusive social event, reroll any dice. On a strong hit, you and any allies in your company take +1 momentum.
            enhance_moves:
              - enhances:
                  - move:starforged/recover/hearten
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: while attending an exclusive social event
      sorcerer:
        name: Sorcerer
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
          _core:
            supernatural: true
        abilities:
          - enabled: true
            text: |-
              When you [Secure an Advantage](datasworn:move:starforged/adventure/secure_an_advantage) or [Gain Ground](datasworn:move:starforged/combat/gain_ground) by creating a minor mystical effect, roll +spirit. On a strong hit, take +1 momentum. On a weak hit, take the standard benefits of the move, but first [Endure Stress](datasworn:move:starforged/suffer/endure_stress) (-1). On a match, you learn something of magic’s nature through an unexpected boon or harrowing backlash; mark 1 tick on your discoveries legacy track.
            enhance_moves:
              - enhances:
                  - move:starforged/*/secure_an_advantage
                  - move:starforged/combat/gain_ground
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: by creating a minor mystical effect
                      roll_options:
                        - using: condition_meter
                          condition_meter: spirit
          - text: |-
              You may purchase assets of a supernatural nature for 1 experience (instead of 3).
          - text: |-
              When you [Swear an Iron Vow](datasworn:move:starforged/quest/swear_an_iron_vow) (extreme or greater) to gather the components and lore of a complex and powerful ritual, reroll any dice. When you [Reach a Milestone](datasworn:move:starforged/quest/reach_a_milestone) on this quest, take +2 momentum. When you enact the ritual to [Fulfill Your Vow](datasworn:move:starforged/quest/fulfill_your_vow), you may reroll any challenge dice to draw on unknowable powers at the risk of your soul. If you do, [Face Desolation](datasworn:move:starforged/threshold/face_desolation).
            enhance_moves:
              - enhances:
                  - move:starforged/quest/swear_an_iron_vow
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: to gather the components and lore of a complex and powerful ritual (extreme or greater)
              - enhances:
                  - move:starforged/quest/reach_a_milestone
                roll_type: no_roll
                trigger:
                  conditions:
                    - text: &SorcererQuest on your quest to gather the components and lore of a complex and powerful ritual (extreme or greater)
              - enhances:
                  - move:starforged/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: *SorcererQuest
      spy:
        name: Spy
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        abilities:
          - enabled: true
            text: |-
              When you infiltrate a location or event, increase your momentum reset by 1 for the duration of the mission.
            # TODO: momentum reset conditional
          - text: |-
              When you [Face Danger](datasworn:move:starforged/adventure/face_danger) or [Secure an Advantage](datasworn:move:starforged/adventure/secure_an_advantage) to adopt a disguise or establish a false identity, add +1. On a hit, add +1 when using that identity to deceive or influence others. If you score a miss with a match when using a false identity, your deception is completely and dramatically undone.
            enhance_moves:
              - enhances:
                  - move:starforged/*/face_danger
                  - move:starforged/*/secure_an_advantage
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: to adopt a disguise or establish a false identity
              - enhances: null
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: when using your false identity to deceive or influence others
          - text: |-
              When you lie to [Make a Connection](datasworn:move:starforged/connection/make_a_connection), you may reroll one challenge die. If you [Forge a Bond](datasworn:move:starforged/connection/forge_a_bond) in a relationship built on lies, choose one.

                * Maintain the deception: You may reroll one challenge die.
                * Reveal the truth: On a strong hit, make the legacy reward one rank higher (1 extra box if already epic).
            enhance_moves:
              - enhances:
                  - move:starforged/connection/make_a_connection
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you lie to [Make a Connection](datasworn:move:starforged/connection/make_a_connection)
              - enhances:
                  - move:starforged/connection/forge_a_bond
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: If you [Forge a Bond](datasworn:move:starforged/connection/forge_a_bond) in a relationship built on lies
      swashbuckler:
        name: Swashbuckler
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
        abilities:
          - enabled: true
            text: |-
              When you make a move with outrageous style, and do not roll a 1 on your action die, you may reroll that die. If you burn momentum to improve your result on this move, roll your action die again; on a 5 or 6, do not reset momentum.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move with outrageous style
          - text: |-
              When you [Enter the Fray](datasworn:move:starforged/combat/enter_the_fray) in personal combat, or when an ongoing fight transitions to personal combat, you may envision up to three useful aspects of your surroundings. Take +1 momentum for each. Then, when you make a daring or unexpected move incorporating one of those aspects (once per aspect), add +1.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/enter_the_fray
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: in personal combat, or when an ongoing fight transitions to personal combat
          - text: |-
              When you [React Under Fire](datasworn:move:starforged/combat/react_under_fire) in close quarters by parrying, and score a strong hit, you counter or turn your foe’s attack against them; mark progress.
            enhance_moves:
              - enhances:
                  - move:starforged/combat/react_under_fire
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: in close quarters by parrying
      urchin:
        name: Urchin
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        tags:
          starforged:
            recommended: true
        abilities:
          - enabled: true
            text: |-
              You are unnoticed and underestimated. When you make a move to sneak, hide, or pilfer, add +1 and take +1 momentum on a hit. When you make a move to defy expectations (decide before rolling), add +1 and reroll any dice, but count a weak hit as a miss.
            enhance_moves:
              - enhances: null
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move to sneak, hide, or pilfer
              - enhances: null
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move to defy expectations (decide before rolling)
          - text: |-
              Name a connection as your mentor. When you [Develop Your Relationship](datasworn:move:starforged/connection/develop_your_relationship) with them, take +2 momentum. When you successfully [Fulfill Your Vow](datasworn:move:starforged/quest/fulfill_your_vow) in their service or to their benefit, also mark 2 ticks on your bonds legacy track. When you [Forge a Bond](datasworn:move:starforged/connection/forge_a_bond) with them and score a hit, make the legacy reward one rank higher (1 extra box if already epic).
            enhance_moves:
              - enhances:
                  - move:starforged/connection/develop_your_relationship
                roll_type: action_roll
                trigger:
                  conditions:
                    - text: &MentorConnection with your mentor
              - enhances:
                  - move:starforged/quest/fulfill_your_vow
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: in your mentor's service or to their benefit
              - enhances:
                  - move:starforged/connection/forge_a_bond
                roll_type: progress_roll
                trigger:
                  conditions:
                    - text: *MentorConnection
          - text: |-
              When you come of age or take on a role beyond your years, gain this ability at no cost. Then, discard this asset and take two others (at no cost) to represent your new status.
      waterborn:
        name: Waterborn
        type: asset
        _source:
          <<: *Source
        <<: *PathAsset
        abilities:
          - enabled: true
            text: |-
              You have an affinity for the depths. You can spend extended time underwater without need of a breath, and have 5 air. When you exert yourself to make a move underwater, you may suffer -1 air and add +1. When your air is 0, you must [Endure Harm](datasworn:move:starforged/suffer/endure_harm) (-2) before making any move involving physical action. When you return to the surface or an air-filled environment, set your air to 5.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you exert yourself to make a move underwater
          - text: |-
              Once per foray into underwater environs, you may trade air for momentum, or vice-versa. Suffer -2 air and take +2 momentum, or [Lose Momentum](datasworn:move:starforged/suffer/lose_momentum) (-2) and take +2 air.
          - text: |-
              When you make a move to maneuver while diving or swimming, take +1 momentum on a strong hit.
            enhance_moves:
              - roll_type: action_roll
                trigger:
                  conditions:
                    - text: When you make a move to maneuver while diving or swimming
        controls:
          air:
            label: air
            field_type: condition_meter
            max: 5
            value: 5
      windbinder:
        name: Windbinder
        type: asset
        tags:
          _core:
            supernatural: true
        _source:
          <<: *Source
        <<: *PathAsset
        abilities:
          - enabled: true
            text: &BindWindsText |-
              When you bind the winds to your will, roll +edge. On a strong hit, the winds are fine; you and your allies take +2 momentum now, and add +1 when you make a move to navigate or maneuver. On a weak hit, the winds are fair; take +2 momentum. On a miss, the capricious winds are foul; you and your allies [Lose Momentum](datasworn:move:starforged/suffer/lose_momentum) (-2), and face weather-related hazards as appropriate. No matter the outcome, the winds are fair after a few hours.
            moves:
              bind_the_winds:
                type: move
                name: Bind the Winds
                roll_type: action_roll
                trigger:
                  conditions:
                    - method: player_choice
                      roll_options:
                        - using: stat
                          stat: edge
                  text: When you bind the winds to your will...
                text: *BindWindsText
                outcomes:
                  strong_hit:
                    text: |-
                      On a __strong hit__, the winds are fine; you and your allies take +2 momentum now, and add +1 when you make a move to navigate or maneuver.

                      No matter the outcome, the winds are fair after a few hours.
                  weak_hit:
                    text: |-
                      On a __weak hit__, the winds are fair; take +2 momentum.

                      No matter the outcome, the winds are fair after a few hours.
                  miss:
                    text: |-
                      On a __miss__, the capricious winds are foul; you and your allies [Lose Momentum](datasworn:move:starforged/suffer/lose_momentum) (-2), and face weather-related hazards as appropriate.

                      No matter the outcome, the winds are fair after a few hours.
          - text: |-
              As above, and add +1 when you bind the winds.
            enhance_moves:
              - roll_type: action_roll
                enhances:
                  - asset.ability.move:sundered_isles/path/windbinder.0.bind_the_winds
          - text: |-
              Once per situation, you may summon a mighty cyclone. Take an automatic miss as defined above, but also wreak havoc on your foes; mark progress on a related quest, or mark progress twice on an objective in a fight.
            enhance_moves:
              - roll_type: action_roll
                enhances:
                  - asset.ability.move:sundered_isles/path/windbinder.0.bind_the_winds
                trigger:
                  conditions:
                    - method: miss
                      text: Once per situation, when you summon a mighty cyclone
        controls:
          winds:
            label: winds
            field_type: select_enhancement
            # TODO: icons for fields
            choices:
              fine:
                label: fine
                choice_type: choice
              fair:
                label: fair
                choice_type: choice
              foul:
                label: foul
                choice_type: choice
